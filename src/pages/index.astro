---
import Layout from '../layouts/Layout.astro';
import FAQHeader from '../components/FAQHeader.jsx';
import FAQNav from '../components/FAQNav.jsx';
import FAQSection from '../components/FAQSection.jsx';
import FAQFooter from '../components/FAQFooter.jsx';
import ScrollToTop from '../components/ScrollToTop.jsx';
import { loadFAQContent } from '../utils/faqParser.js';

// Load FAQ content from markdown file
const sections = loadFAQContent('./src/content/faq.md');
---

<Layout title="Vestika - שאלות נפוצות">
  <div dir="rtl" class="min-h-screen bg-gradient-to-b from-gray-950 via-gray-900 to-black">
    <FAQHeader client:load />
    <FAQNav sections={sections} client:load />
    <main class="container mx-auto max-w-6xl px-4 py-12">
      {sections.map((section) => (
        <div id={`section-${section.id}`} key={section.id}>
          <FAQSection
            id={section.id}
            title={section.title}
            questions={section.questions}
            client:load
          />
        </div>
      ))}
    </main>
    <FAQFooter client:load />
    <ScrollToTop client:load />
  </div>
</Layout>
